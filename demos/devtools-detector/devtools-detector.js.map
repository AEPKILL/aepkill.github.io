{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0bf3b2d9947c7b959051","webpack:///./src/utils/browser.ts","webpack:///./src/utils/console.ts","webpack:///./src/devtools-checker/debugger-checker.ts","webpack:///./src/detector.ts","webpack:///./src/devtools-checker/checker-group.ts","webpack:///./src/devtools-checker/console-checker/index.ts","webpack:///./src/utils/lazy-function.ts","webpack:///./src/devtools-checker/firebug-checker.ts","webpack:///./src/index.ts","webpack:///./src/devtools-checker/console-checker/firefox.ts","webpack:///./src/devtools-checker/console-checker/ie-edge.ts","webpack:///./src/devtools-checker/console-checker/webkit.ts","webpack:///./src/devtools-checker/console-checker/webkit2.ts","webpack:///./src/utils/context.ts"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ua","navigator","userAgent","isFirefox","__WEBPACK_IMPORTED_MODULE_0__lazy_function__","indexOf","isIE","isEdge","isWebkit","test","isFunction","fn","cacheConsoleMethod","console","method","__WEBPACK_IMPORTED_MODULE_0__browser__","args","_i","arguments","length","apply","_args","log","table","clear","now","performance","Date","debuggerChecker","getDevtoolsDetail","startTime","constructor","isOpen","checkerName","__webpack_exports__","Detector","_a","checkers","_listeners","_isOpen","_detectLoopStoped","_detectLoopDelay","_checker","__WEBPACK_IMPORTED_MODULE_0__devtools_checker_checker_group__","lanuch","setDetectDelay","_detectLoop","stop","clearTimeout","_timer","isLanuch","value","addListener","listener","push","removeListener","filter","_broadcast","_b","detail","sent","setTimeout","_this","groupName","options","__assign","checkers_1","checker","skip","devtoolsDetail","directReturn","consoleChecker","__WEBPACK_IMPORTED_MODULE_0__checker_group__","__WEBPACK_IMPORTED_MODULE_1__firefox__","__WEBPACK_IMPORTED_MODULE_2__ie_edge__","__WEBPACK_IMPORTED_MODULE_3__webkit__","__WEBPACK_IMPORTED_MODULE_4__webkit2__","result","wasRun","firebugChecker","top","window","Firebug","chrome","isInitialized","__WEBPACK_IMPORTED_MODULE_0__utils_context__","defaultDetector","time","__WEBPACK_IMPORTED_MODULE_0__detector__","__WEBPACK_IMPORTED_MODULE_3__devtools_checker_firebug_checker__","__WEBPACK_IMPORTED_MODULE_1__devtools_checker_console_checker__","__WEBPACK_IMPORTED_MODULE_2__devtools_checker_debugger_checker__","reg","toString","alert","firefoxChecker","__WEBPACK_IMPORTED_MODULE_1__utils_console__","__WEBPACK_IMPORTED_MODULE_2__debugger_checker__","__WEBPACK_IMPORTED_MODULE_0__utils_browser__","ele","document","createElement","ieEdgeChecker","webkitChecker","dep","devtoolsTestFunction","count","webkit2Checker","isInIframe","isInCorsIframe","keys","innerWidth"],"mappings":"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","file":"devtools-detector.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"devtoolsDetector\"] = factory();\n\telse\n\t\troot[\"devtoolsDetector\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0bf3b2d9947c7b959051","import layzFunction from './lazy-function';\r\nconst ua = navigator.userAgent;\r\nexport const isFirefox = layzFunction(() => ua.indexOf('Firefox') > -1);\r\nexport const isIE = layzFunction(\r\n  () =>\r\n    // ie 11+\r\n    ua.indexOf('Trident') > -1 ||\r\n    // other ie browser\r\n    ua.indexOf('MSIE') > -1\r\n);\r\n\r\nexport const isEdge = layzFunction(() => ua.indexOf('Edge') > -1);\r\n\r\n// edge 的 userAgent 包含 chrome\r\n// -> Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 Edge/16.16299\r\nexport const isWebkit = layzFunction(() => /webkit/i.test(ua) && !isEdge());\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/browser.ts","import { isEdge, isIE } from './browser';\r\n\r\n// tslint:disable:no-any no-empty\r\nconst FUNCTION_TYPE_STRING = typeof cacheConsoleMethod;\r\n\r\nconst isFunction = (fn: any) => typeof fn === FUNCTION_TYPE_STRING;\r\n\r\n/**\r\n * 缓存 console.log 等方法，防止第三方代码 hook console.log 等方法\r\n * 但是 ie 浏览器下不能缓存 console.log 之类的方法, 因为每次打开浏览器都是不同的 console, 调用缓存后的方法则会异常\r\n *\r\n */\r\nfunction cacheConsoleMethod<K extends keyof Console>(name: K): Console[K] {\r\n  if (console) {\r\n    const method = console[name];\r\n    if (isFunction(method)) {\r\n      if (isIE || isEdge) {\r\n        return (...args: any[]) => {\r\n          console[name](...args);\r\n        };\r\n      }\r\n      return console[name];\r\n    }\r\n  }\r\n  return (..._args: any[]) => {};\r\n}\r\n\r\nexport const log = cacheConsoleMethod('log');\r\n\r\nexport const table = cacheConsoleMethod('table');\r\n\r\nexport const clear = cacheConsoleMethod('clear');\r\n\r\n// tslint:enable:no-any no-empty\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/console.ts","import { DevtoolsChecker } from './devtools-checker';\r\n\r\nfunction now() {\r\n  if (performance) {\r\n    return performance.now();\r\n  } else {\r\n    return Date.now();\r\n  }\r\n}\r\nconst debuggerChecker: DevtoolsChecker = {\r\n  name: 'debugger-checker',\r\n  async getDevtoolsDetail() {\r\n    const startTime = now();\r\n    // tslint:disable-next-line:no-empty only-arrow-functions\r\n    (function() {}.constructor('debugger')());\r\n    return {\r\n      isOpen: now() - startTime > 500,\r\n      checkerName: this.name\r\n    };\r\n  }\r\n};\r\n\r\nexport default debuggerChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/debugger-checker.ts","import checkerGroup from './devtools-checker/checker-group';\r\nimport {\r\n  DevtoolsChecker,\r\n  DevtoolsDetail\r\n} from './devtools-checker/devtools-checker';\r\n\r\nexport interface DetectorOptions {\r\n  checkers: DevtoolsChecker[];\r\n}\r\nexport type Listener = (isOpen: boolean, detail?: DevtoolsDetail) => void;\r\n\r\nexport class Detector {\r\n  private readonly _checker: DevtoolsChecker;\r\n  private _listeners: Listener[] = [];\r\n  private _isOpen = false;\r\n  private _detectLoopStoped = true;\r\n  private _detectLoopDelay = 500;\r\n  private _timer!: number;\r\n  constructor({ checkers }: DetectorOptions) {\r\n    this._checker = checkerGroup(checkers);\r\n  }\r\n  lanuch() {\r\n    if (this._detectLoopDelay <= 0) {\r\n      this.setDetectDelay(500);\r\n    }\r\n    if (this._detectLoopStoped) {\r\n      this._detectLoopStoped = false;\r\n      this._detectLoop();\r\n    }\r\n  }\r\n  stop() {\r\n    if (!this._detectLoopStoped) {\r\n      this._detectLoopStoped = true;\r\n      clearTimeout(this._timer);\r\n    }\r\n  }\r\n  isLanuch() {\r\n    return !this._detectLoopStoped;\r\n  }\r\n  setDetectDelay(value: number) {\r\n    this._detectLoopDelay = value;\r\n  }\r\n  addListener(listener: Listener) {\r\n    this._listeners.push(listener);\r\n  }\r\n  removeListener(listener: Listener) {\r\n    this._listeners = this._listeners.filter(value => value !== listener);\r\n  }\r\n\r\n  private _broadcast(value: DevtoolsDetail) {\r\n    for (const listener of this._listeners) {\r\n      try {\r\n        listener(value.isOpen, value);\r\n      } catch {\r\n        /** nothing to do */\r\n      }\r\n    }\r\n  }\r\n  private async _detectLoop() {\r\n    const detail = await this._checker.getDevtoolsDetail();\r\n    if (detail.isOpen != this._isOpen) {\r\n      this._isOpen = detail.isOpen;\r\n      this._broadcast(detail);\r\n    }\r\n    if (this._detectLoopDelay > 0) {\r\n      this._timer = setTimeout(() => this._detectLoop(), this._detectLoopDelay);\r\n    } else {\r\n      this.stop();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/detector.ts","import { ExcludePropetys } from '../utils/exclude-propetys';\r\nimport { DevtoolsChecker } from './devtools-checker';\r\n\r\nexport default function checkerGroup(\r\n  checkers: DevtoolsChecker[],\r\n  groupName?: string,\r\n  options?: ExcludePropetys<DevtoolsChecker, 'name' | 'getDevtoolsDetail'>\r\n): DevtoolsChecker {\r\n  return {\r\n    ...options,\r\n    name: groupName ? groupName : 'unknow group',\r\n    async getDevtoolsDetail() {\r\n      for (const checker of checkers) {\r\n        if (checker.skip && (await checker.skip())) {\r\n          continue;\r\n        }\r\n\r\n        const devtoolsDetail = await checker.getDevtoolsDetail();\r\n        if (devtoolsDetail.isOpen || devtoolsDetail.directReturn) {\r\n          if (groupName) {\r\n            devtoolsDetail.checkerName = `${groupName}.${\r\n              devtoolsDetail.checkerName\r\n            }`;\r\n          }\r\n          return devtoolsDetail;\r\n        }\r\n      }\r\n      return {\r\n        checkerName: this.name,\r\n        isOpen: false\r\n      };\r\n    }\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/checker-group.ts","import checkerGroup from '../checker-group';\r\nimport { DevtoolsChecker } from '../devtools-checker';\r\nimport firefoxChecker from './firefox';\r\nimport ieEdgeChecker from './ie-edge';\r\nimport webkitChecker from './webkit';\r\nimport webkit2Checker from './webkit2';\r\n\r\nconst consoleChecker: DevtoolsChecker = checkerGroup(\r\n  [firefoxChecker, ieEdgeChecker, webkitChecker, webkit2Checker],\r\n  'console-checker'\r\n);\r\n\r\nexport default consoleChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/console-checker/index.ts","// tslint:disable-next-line:no-any\r\nexport default function layzFunction<T extends (...args: any[]) => any>(\r\n  fn: T\r\n): T {\r\n  let wasRun = false;\r\n  let result!: ReturnType<T>;\r\n  // tslint:disable-next-line:only-arrow-functions no-any\r\n  return function(...args: any[]) {\r\n    if (wasRun) {\r\n      return result;\r\n    }\r\n    wasRun = true;\r\n    return (result = fn(...args));\r\n  } as T;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/lazy-function.ts","import { isInCorsIframe } from '../utils/context';\r\nimport { DevtoolsChecker } from './devtools-checker';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Firebug: {\r\n      chrome: {\r\n        isInitialized: boolean;\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nconst firebugChecker: DevtoolsChecker = {\r\n  name: 'firebug-checker',\r\n  async getDevtoolsDetail() {\r\n    const top = window.top;\r\n    let isOpen: boolean = false;\r\n    try {\r\n      isOpen =\r\n        top.Firebug && top.Firebug.chrome && top.Firebug.chrome.isInitialized;\r\n    } catch {\r\n      /** nothing todo */\r\n    }\r\n    return {\r\n      isOpen,\r\n      checkerName: this.name\r\n    };\r\n  },\r\n  async skip() {\r\n    return isInCorsIframe();\r\n  }\r\n};\r\n\r\nexport default firebugChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/firebug-checker.ts","import { Detector, Listener } from './detector';\r\nimport consoleChecker from './devtools-checker/console-checker';\r\nimport debuggerChecker from './devtools-checker/debugger-checker';\r\nimport firebugChecker from './devtools-checker/firebug-checker';\r\n\r\nconst defaultDetector = new Detector({\r\n  checkers: [firebugChecker, consoleChecker, debuggerChecker]\r\n});\r\n\r\nexport function addListener(listener: Listener) {\r\n  defaultDetector.addListener(listener);\r\n}\r\nexport function removeListener(listener: Listener) {\r\n  defaultDetector.removeListener(listener);\r\n}\r\nexport function isLanuch() {\r\n  return defaultDetector.isLanuch();\r\n}\r\nexport function stop() {\r\n  defaultDetector.stop();\r\n}\r\nexport function lanuch() {\r\n  defaultDetector.lanuch();\r\n}\r\nexport function setDetectDelay(time: number) {\r\n  defaultDetector.setDetectDelay(time);\r\n}\r\nexport { DevtoolsChecker } from './devtools-checker/devtools-checker';\r\n\r\nexport { default as consoleChecker } from './devtools-checker/console-checker';\r\nexport {\r\n  default as debuggerChecker\r\n} from './devtools-checker/debugger-checker';\r\nexport { default as firebugChecker } from './devtools-checker/firebug-checker';\r\n\r\nexport { Detector, Listener } from './detector';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { isFirefox } from '../../utils/browser';\r\nimport { clear, log } from '../../utils/console';\r\nimport debuggerChecker from '../debugger-checker';\r\nimport { DevtoolsChecker } from '../devtools-checker';\r\n\r\nconst reg = / /;\r\nlet isOpen = false;\r\n\r\nreg.toString = () => {\r\n  isOpen = true;\r\n  alert(23333);\r\n  return firefoxChecker.name;\r\n};\r\n\r\nconst firefoxChecker: DevtoolsChecker = {\r\n  name: 'firefox-checker',\r\n  async getDevtoolsDetail() {\r\n    isOpen = false;\r\n    log('%c23333', reg);\r\n    clear();\r\n    if (isOpen === false) {\r\n      const detail = await debuggerChecker.getDevtoolsDetail();\r\n      detail.directReturn = true;\r\n      return detail;\r\n    }\r\n    return {\r\n      isOpen,\r\n      checkerName: this.name,\r\n      directReturn: true\r\n    };\r\n  },\r\n  async skip() {\r\n    return !isFirefox();\r\n  }\r\n};\r\n\r\nexport default firefoxChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/console-checker/firefox.ts","import { isEdge, isIE } from '../../utils/browser';\r\nimport { clear, log } from '../../utils/console';\r\nimport { DevtoolsChecker } from '../devtools-checker';\r\n\r\nconst ele = document.createElement('div');\r\nlet isOpen = false;\r\n\r\nObject.defineProperty(ele, 'id', {\r\n  get() {\r\n    isOpen = true;\r\n    return ieEdgeChecker.name;\r\n  },\r\n  configurable: true\r\n});\r\n\r\nconst ieEdgeChecker: DevtoolsChecker = {\r\n  name: 'ie-edge-checker',\r\n  async getDevtoolsDetail() {\r\n    isOpen = false;\r\n    log(ele);\r\n    clear();\r\n    return {\r\n      isOpen,\r\n      checkerName: this.name\r\n    };\r\n  },\r\n  async skip() {\r\n    return !(isIE() || isEdge());\r\n  }\r\n};\r\n\r\nexport default ieEdgeChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/console-checker/ie-edge.ts","import { isWebkit } from '../../utils/browser';\r\nimport { clear, table } from '../../utils/console';\r\nimport { DevtoolsChecker } from '../devtools-checker';\r\n\r\nconst reg = / /;\r\nlet isOpen = false;\r\n\r\nreg.toString = () => {\r\n  isOpen = true;\r\n  return webkitChecker.name;\r\n};\r\n\r\nconst webkitChecker: DevtoolsChecker = {\r\n  name: 'webkit-checker',\r\n  async getDevtoolsDetail() {\r\n    isOpen = false;\r\n    table({ dep: { reg } });\r\n    clear();\r\n    return {\r\n      isOpen,\r\n      checkerName: this.name\r\n    };\r\n  },\r\n  async skip() {\r\n    return !isWebkit();\r\n  }\r\n};\r\n\r\nexport default webkitChecker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/console-checker/webkit.ts","import { isWebkit } from '../../utils/browser';\r\nimport { clear, log } from '../../utils/console';\r\nimport { DevtoolsChecker } from '../devtools-checker';\r\n\r\nfunction devtoolsTestFunction() {\r\n  // nothing todo\r\n}\r\n\r\nlet count = 0;\r\n\r\ndevtoolsTestFunction.toString = () => {\r\n  count++;\r\n};\r\n\r\nconst webkit2Checker: DevtoolsChecker = {\r\n  name: 'webkit2-checker',\r\n  async getDevtoolsDetail() {\r\n    count = 0;\r\n    log(devtoolsTestFunction);\r\n    clear();\r\n    return {\r\n      isOpen: count === 2,\r\n      checkerName: this.name\r\n    };\r\n  },\r\n  async skip() {\r\n    return !isWebkit();\r\n  }\r\n};\r\n\r\nexport default webkit2Checker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/devtools-checker/console-checker/webkit2.ts","import layzFunction from './lazy-function';\r\nexport const isInIframe = layzFunction(() => window.top !== window);\r\nexport const isInCorsIframe = layzFunction(() => {\r\n  if (!isInIframe()) {\r\n    return false;\r\n  }\r\n  try {\r\n    Object.keys(window.top.innerWidth);\r\n    return false;\r\n  } catch {\r\n    return true;\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/context.ts"],"sourceRoot":""}